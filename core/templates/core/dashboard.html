{% extends "core/base.html" %}
{% load i18n %}
{% block content %}
<h2>{% trans "Dashboard" %}</h2>

<p><b>{% trans "Student ID:" %}</b> {{ profile.student_id }}</p>
<p><b>{% trans "Faculty:" %}</b> {{ profile.faculty.name }}</p>

<hr>

<h3>{% trans "Totals" %}</h3>
<p><b>{% trans "Total sorted:" %}</b> {{ total_kg }} kg</p>
<p><b>{% trans "Eco-score:" %}</b> {{ eco_score }}</p>

<h3>{% trans "Impact (demo)" %}</h3>
<p>{% trans "COâ‚‚ saved (demo):" %} {{ co2_saved }}</p>
<p>{% trans "Energy saved (demo):" %} {{ energy_saved }} kWh</p>

<p style="font-size: 12px; opacity: 0.7;">
    {% trans "These impact numbers are demonstration values (educational project)." %}
</p>

<hr>

<p><a href="/add/">{% trans "+ Add new record" %}</a></p>

<h3>{% trans "By category" %}</h3>
<table border="1" cellpadding="6">
    <tr>
        <th>{% trans "Category" %}</th>
        <th>{% trans "Total (kg)" %}</th>
        <th>{% trans "Eco-score" %}</th>
    </tr>

    {% for r in per_cat %}
    <tr>
        <td>{{ r.category }}</td>
        <td>{{ r.kg }}</td>
        <td>{{ r.score }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="3">{% trans "No records yet" %}</td></tr>
    {% endfor %}
</table>

<hr>

<h3>{% trans "Last records" %}</h3>
<table border="1" cellpadding="6">
    <tr>
        <th>{% trans "Date" %}</th>
        <th>{% trans "Category" %}</th>
        <th>{% trans "Weight (kg)" %}</th>
    </tr>

    {% for e in entries %}
    <tr>
        <td>{{ e.created_at }}</td>
        <td>{{ e.get_category_display }}</td>
        <td>{{ e.weight_kg }}</td>
    </tr>
    {% empty %}
    <tr><td colspan="3">{% trans "No records yet" %}</td></tr>
    {% endfor %}
</table>
{% endblock %}
